<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async Await Example</title>
</head>
<body>

    <script>
        //  Function that returns a Promise
        function prom(a, b) {
            return new Promise(function(resolve, reject) {
                console.log("Promise started! Fetching data...");
                let c = a / b;

                setTimeout(() => {
                    if (b !== 0) { // Divide by zero check
                        resolve("Task completed successfully! Answer is " + c);
                    } else {
                        reject("Task failed. Cannot divide by zero.");
                    }
                }, 2000);
            });
        }

        //  Async function to use await
        async function doWork() {
            try {
                console.log("Kaam shuru ho gaya...");

                // Wait for the promise to resolve/reject
                let result = await prom(10, 2);  // yahan par program rukega jab tak result mil na jaye

                console.log("Result mila: " + result); // Promise success hone ke baad yeh chalega
            } catch (error) {
                console.log("Error aayi: " + error); // Agar promise reject ho gaya to yeh chalega
            }

            console.log("Kaam khatam ho gaya.");
        }

        //  Call the async function
        doWork();
    </script>

</body>
</html>
